Домашнее задание к занятию "11.4 Микросервисы: масштабирование»  

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: Кластеризация

Предложите решение для обеспечения развёртывания, запуска и управления приложениями.
Решение может состоять из одного или нескольких программных продуктов и должно описывать способы и принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:
- поддержка контейнеров;
- обеспечивать обнаружение сервисов и маршрутизацию запросов;
- обеспечивать возможность горизонтального масштабирования;
- обеспечивать возможность автоматического масштабирования;
- обеспечивать явное разделение ресурсов, доступных извне и внутри системы;
- обеспечивать возможность конфигурировать приложения с помощью переменных среды, в том числе с возможностью безопасного хранения чувствительных данных таких как пароли, ключи доступа, ключи шифрования и т. п.

Обоснуйте свой выбор.

**Ответ**

**Kubernetes** (сокращенно K8s) - инструмент для оркестрации контейнеризированных приложений — автоматизации их развёртывания, масштабирования и координации в условиях кластера. Поддерживает основные технологии контейнеризации, включая Docker. K8s является открытым(open-source) программным обеспечением.

Основные возможности Kubernetes
- Обеспечивает масштабирование и управление вашей конфигурацией.
- Вы можете описать, что вы хотите получить при развёртывании кластера, и К8s — это сделает. Например, указать количество подов , сколько памяти на них выделить, указать количество реплик(экземпляров) приложений, развернутых (в контейнерах) на подах.
- Отвечает за поддержание системы в определенном состоянии, если что-то упало, то К8s это поднимет, согласно установленной конфигурации.

Kubernetes для оркестрации контейнеров;

Kubernetes Service или Istio Service Mesh для обнаружения сервисов и маршрутизации запросов;

Kubernetes Network Policies или Istio для явного разделения ресурсов;

Kubernetes Secrets или Vault для безопасного хранения чувствительных данных.


**OpenShift** - В основе OpenShift лежит сертифицированный Kubernetes, это, своего рода, надстройка над Kubernetes, предлагающая дополнительные функции.

Основные моменты OpenShift:
- Это платный продукт, в отличие от K8s;
- DevOps из «коробки», поддержка основных сценариев развертывания blue/green, canary;
- Встроенная поддержка Jenkins;
- Предоставляет удобные инструменты для администрирования и работы с кластером;
- Имеет более строгую модель безопасности и встроенный мониторинг.

Для небольших проектов и компаний подойдет **Docker Swarm** — это платформа оркестровки контейнеров с открытым исходным кодом, созданная и поддерживаемая компанией Docker. Под капотом Docker Swarm преобразует несколько экземпляров контейнеров в один виртуальный хост. Кластер платформы обычно содержит три элемента: ноды, службы и задачи, балансировщики нагрузки. 

Плюсы:

- Docker Swarm прост в установке, особенно для тех, кто только начинает осваивать мир контейнерной оркестровки. Он легкий и простой в использовании. Кроме того, изучение Docker Swarm занимает меньше времени, чем в случае более сложных аналогов. Он обеспечивает автоматическую балансировку нагрузки в контейнерах Docker, в то время как другие инструменты оркестровки контейнеров требуют ручных усилий. 
- Docker Swarm работает с Docker CLI, поэтому нет необходимости запускать или устанавливать весь новый CLI целиком. Кроме того, он легко работает с существующими инструментами Docker, такими как Docker Compose.
- Docker Swarm не требует изменений конфигурации, если ваша система уже запущена внутри Docker.  

---
