Домашнее задание к занятию "5.1 Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."  

1. Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.    

Полная виртуализация - В основе нее лежит специальная «прослойка» между гостевой операционной системой и оборудованием - гипервизор, который обеспечивает возможность обращения гостевой операционной системы к ресурсам аппаратного обеспечения. Данный метод обеспечивает хорошую производительность и низкие накладные расходы на виртуализацию. Недостатком полной виртуализации является зависимость  виртуальных машин от архитектуры аппаратной платформы.  

Паравиртуализвция - Гипервизор предоставляет гостевой ОС специальный программный интерфейс (API), исключающий необходимость прямого обращения  к таким ресурсам, как, например, таблицы страниц памяти. При применении паравиртуализации нет необходимости эмулировать аппаратное обеспечение, гостевая ОС и гипервизор используют общий набор драйверов.  

Виртуализация на уровне ОС обеспечивает разделение одного физического сервера на несколько защищенных виртуализированных частей (контейнеров), каждая из которых представляется для владельца как один сервер. Виртуальная машина представляет собой окружение для приложений, запускаемых изолированно. Контейнеры мало теряют в быстродействии  по сравнению с производительностью «реального» сервера, что позволяет запускать в рамках одного физического хоста десятки и сотни виртуальных контейнеров.  

2. Организация серверов:  

физические сервера,  
паравиртуализация,  
виртуализация уровня ОС. 
 
Условия использования:  

Высоконагруженная база данных, чувствительная к отказу.  
Различные web-приложения.  
Windows системы для использования бухгалтерским отделом.  
Системы, выполняющие высокопроизводительные расчеты на GPU.  

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.  


Высоконагруженная база данных, чувствительная к отказу. - физические сервера. Более высокая производительность.  
Различные web-приложения. - виртуализация уровня ОС. Создается готовая среда для приложений, быстрый запуск, перезагрузка, масштабирование.  
Windows системы для использования бухгалтерским отделом. - паравиртуализация. Бастрая настройка, отказоустойчивость, быстрыке бэкапы.  
Системы, выполняющие высокопроизводительные расчеты на GPU. -  Физические сервера. Прямой доступ к аппаратным ресурсам 

3. Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.  

Сценарии:  

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.  

vSphere. Поддерживает виртуальные машины с Windows и Linux. Удобно настравивать, делать копии, Есть встроенные возможности балансировки.  


Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.  

Подойдет KVM - бесплатный, легко настравивать.  


Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.  

Hyper-V Server, бесплатный продукт Microsoft, отлично подходит для работы в среде Windows.  


Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.  

VirtuslBox, легко настраивать. Можно автоматизировать процесс с помощью Vagrant.  


4. Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.  

Возможные проблемы и недостатки гетерогенной среды виртуализации:  
- несколько систем сложнее администрировать;    
- необходимо наличие специалистов сопровождения для разных систем, расширение штата - издержки на зарплату;  
- сложный мониторинг;  
- высокий риск сбоя;  
- трудность перераспределения ресурсов между виртуальными машинами в разных средах;  
- завышенная стоимость обслуживания.  

 Я бы настроил все в одной среде, проще и удобнее администрировать.